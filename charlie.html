<body>
  <!-- PASSWORD OVERLAY -->
  <div id="password-overlay" style="
    position: fixed; 
    top: 0; left: 0; 
    width: 100%; height: 100%; 
    background: black; 
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center; 
    z-index: 9999;">
    <input 
      type="password" 
      id="password-input" 
      placeholder="Enter password" 
      style="padding: 10px; font-size: 18px;"/>
    <button 
      id="submit-password" 
      style="margin-top: 20px; padding: 10px 20px; font-size: 18px; cursor: pointer;">
      Submit
    </button>
    <p id="password-error" style="color: red; margin-top: 10px; display: none;">Incorrect password.</p>
  </div>

  <!-- Your existing shrine + overlay + content -->
  <div class="shrine-bg" id="shrine-bg"></div>
  <div class="overlay" id="overlay">
    <div class="left"></div>
    <div class="right"></div>
  </div>

  <div class="text-container" id="text-container">
    <h1 class="title">Charlie is a legend</h1>
    <p class="subtitle">Iâ€™m terrified of Charlie please be gentle</p>
  </div>

  <div class="main-content" id="main-content">
    <h1 class="felipe-text" id="felipe-text">Shrine of the sexy Charlie</h1>
    <img src="assets/charlie.png" alt="Charlie Image" class="felipe-image" id="felipe-image" />
    <img src="assets/charlie 1.png" alt="Charlie Left" class="side-image" id="side-image-left" />
    <img src="assets/charlie 2.png" alt="Charlie Right" class="side-image" id="side-image-right" />
  </div>

  <script>
    const passwordOverlay = document.getElementById('password-overlay');
    const passwordInput = document.getElementById('password-input');
    const submitPassword = document.getElementById('submit-password');
    const passwordError = document.getElementById('password-error');

    submitPassword.addEventListener('click', () => {
      if (passwordInput.value === 'maxisagooner') {
        passwordOverlay.style.display = 'none';
        preloadAndStart();
      } else {
        passwordError.style.display = 'block';
      }
    });

    function preloadAndStart() {
      const textContainer = document.getElementById('text-container');
      const overlay = document.getElementById('overlay');
      const mainContent = document.getElementById('main-content');
      const felipeText = document.getElementById('felipe-text');
      const felipeImage = document.getElementById('felipe-image');
      const shrineBg = document.getElementById('shrine-bg');
      const sideImageLeft = document.getElementById('side-image-left');
      const sideImageRight = document.getElementById('side-image-right');

      const images = [
        'assets/charlie.png',
        'assets/charlie 1.png',
        'assets/charlie 2.png',
        'assets/grandma.gif'
      ];

      let loaded = 0;

      images.forEach(src => {
        const img = new Image();
        img.src = src;
        img.onload = () => {
          loaded++;
          if (loaded === images.length) {
            startAnimation();
          }
        };
      });

      function startAnimation() {
        setTimeout(() => {
          textContainer.classList.add('fade-in');
        }, 100);

        setTimeout(() => {
          textContainer.classList.remove('fade-in');
          textContainer.classList.add('fade-out');
        }, 3100);

        setTimeout(() => {
          overlay.classList.add('slide');
        }, 5300);

        setTimeout(() => {
          mainContent.classList.add('show');
          shrineBg.classList.add('show');
        }, 6400);

        setTimeout(() => {
          felipeText.classList.add('visible');
        }, 7000);

        setTimeout(() => {
          felipeText.classList.add('move-up');
        }, 8000);

        setTimeout(() => {
          felipeImage.classList.add('visible');
        }, 8500);

        setTimeout(() => {
          sideImageLeft.classList.add('show-left');
          sideImageRight.classList.add('show-right');
        }, 10000);
      }
    }
  </script>
</body>
